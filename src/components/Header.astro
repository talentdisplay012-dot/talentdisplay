---
// Astro frontmatter
import { siteConfig } from "../config";

const hasProjects = siteConfig.projects && siteConfig.projects.length > 0;
const hasExperience = siteConfig.experience && siteConfig.experience.length > 0;
const hasEducation = siteConfig.education && siteConfig.education.length > 0;
---

<header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
  <nav class="navbar-nav">
    <ul class="navbar-list" id="navbar-menu">
      {hasProjects && (<li><a href="/#projects" class="navbar-link">Projekte</a></li>)}
      {hasExperience && (<li><a href="/#experience" class="navbar-link">Eksperienca</a></li>)}
      {hasEducation && (<li><a href="/#education" class="navbar-link">Edukimi</a></li>)}
      <li><a href="/#cv-examples" class="navbar-link">Shembuj CV</a></li>
      <li><a href="/student-jobs" class="navbar-link">Pune per Studente</a></li>
      <li><a href="/services" class="navbar-link">Sherbimet</a></li>
    </ul>
  </nav>
</header>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    window.addEventListener("scroll", () => {
      const header = document.getElementById("header");
      if (window.scrollY > 100) {
        header?.classList.add("scrolled");
      } else {
        header?.classList.remove("scrolled");
      }
    });
  });
</script>

<style>
  html {
    scroll-behavior: smooth;
  }
  #header {
    background: transparent;
    backdrop-filter: blur(0px);
    transition: all 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  #header.scrolled {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }
  .navbar-nav {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    position: relative;
    padding: 16px 0;
  }
  .navbar-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    gap: 12px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
  }
  .navbar-list li {
    margin: 0;
    padding: 0;
  }
  .navbar-link {
    color: #1f2937;
    text-decoration: none;
    font-weight: 500;
    font-size: 18px;
    transition: all 0.3s ease;
    display: inline-block;
    padding: 10px 24px;
    border-radius: 20px;
    background: rgba(255,255,255,0.5);
    border: 1px solid rgba(13,71,255,0.2);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    white-space: nowrap;
    box-shadow: none;
  }
  .navbar-link:hover {
    color: #0d47ff;
    background: rgba(13,71,255,0.1);
    border-color: rgba(13,71,255,0.4);
    box-shadow: 0 0 20px rgba(13,71,255,0.4);
  }
  .navbar-link:active {
    box-shadow: 0 0 30px rgba(13,71,255,0.6);
  }

  /* Tablet */
  @media (max-width: 1024px) {
    .navbar-link {
      padding: 10px 18px;
      font-size: 15px;
    }
  }

  /* Mobile - horizontal scroll, no duplication */
  @media (max-width: 768px) {
    .navbar-list {
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 4px;
      padding: 8px 0;
      scrollbar-width: none;
      -ms-overflow-style: none;
      background: rgba(255,255,255,0.95);
      justify-content: flex-start;
    }
    .navbar-list::-webkit-scrollbar {
      display: none;
    }
    .navbar-link {
      font-size: 14px;
      padding: 8px 12px;
      min-width: max-content;
      border-radius: 14px;
      background: transparent;
      border: 1px solid rgba(13,71,255,0.2);
      margin: 0;
      box-shadow: none;
    }
  }

  @media (max-width: 480px) {
    .navbar-link {
      padding: 7px 8px;
      font-size: 12px;
    }
  }

  #header.scrolled .navbar-list,
  #header.scrolled .navbar-link {
    background: rgba(255,255,255,0.95);
    box-shadow: none;
  }
</style>
